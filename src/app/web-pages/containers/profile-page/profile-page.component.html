<div class="row p-2">
  <h4>Profile page</h4>
  <div class="col"></div>
  <div class="col-10"><hr></div>
  <div class="col"></div>
</div>
<div class="row d-flex justify-content-center my-3">
  <div class="col-3">
    <nz-card nzHoverable style="width:240px" [nzCover]="coverTemplate" (click)="showModal()">
      <nz-card-meta nzTitle="Avatar" nzDescription="{{(userDetails$ | async)?.avatar}}"></nz-card-meta>
    </nz-card>
    <ng-template #coverTemplate>
      <img alt="example" [src]="(userDetails$ | async)?.avatar" />
    </ng-template>
<!--    <button nz-button nzType="primary" [nzSize]="'large'" nzShape="round" (click)="showModal()">Change</button>-->
  </div>
  <div class="col-6 " style="border-style: double">
    <nz-descriptions nzTitle="User Info">
      <nz-descriptions-item nzTitle="Name">{{(userDetails$ | async)?.fullName}}</nz-descriptions-item>
      <nz-descriptions-item nzTitle="Telephone">{{(userDetails$ | async)?.phone}}</nz-descriptions-item>
      <nz-descriptions-item nzTitle="Email">{{(userDetails$ | async)?.email}}</nz-descriptions-item>
      <nz-descriptions-item nzTitle="Active">
        <nz-switch nzSize="small" disabled [ngModel]="(userDetails$ | async)?.isActive"></nz-switch>
        <a href="javascript:void(0)" *ngIf="(userDetails$ | async)?.isActive === false" class="text-danger mx-2"> Active email now</a>
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="Role">
        {{(userDetails$ | async)?.roleId === 0 ? 'Admin' :
        (userDetails$ | async)?.roleId === 1 ? 'Singer' :
          (userDetails$ | async)?.roleId === 2 ? 'User' : ''}}
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="Money">
        {{(userDetails$ | async)?.money + ' VND'}}
      </nz-descriptions-item>
    </nz-descriptions>
  </div>
</div>


<nz-modal [(nzVisible)]="isVisible" nzWidth="80%" nzTitle="Custom Modal Title" (nzOnCancel)="handleCancel()">
  <div *nzModalContent>
    <nz-upload
      class="avatar-uploader"
      nzName="avatar"
      nzListType="picture-card"
      [nzShowUploadList]="false"
      [nzBeforeUpload]="beforeUpload"
      (nzChange)="handleChange($event)"
    >
      <ng-container *ngIf="!avatarUrl">
        <i class="upload-icon" nz-icon [nzType]="loading ? 'loading' : 'plus'"></i>
        <div class="ant-upload-text mx-1">Upload</div>
      </ng-container>
      <img *ngIf="avatarUrl" [src]="avatarUrl" style="width: 100%" />
    </nz-upload>
  </div>
  <div *nzModalFooter>
    <span>Modal Footer:</span>
    <button nz-button nzType="default" (click)="handleCancel()">Custom Callback</button>
    <button nz-button nzType="primary" (click)="handleOk()" [nzLoading]="isConfirmLoading">Custom Submit</button>
  </div>
</nz-modal>

